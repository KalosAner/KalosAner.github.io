截止2010年之前Linux下的glibc中的malloc来自Doug Lea。

class的构造函数无法被直接调用，只能使用new express在分配内存的同时调用，例如new string。

new express：申请内存并调用构造函数，底层会通过调用`malloc`实现。

operator new：申请内存，大小可以自己设置。

在所有平台上的array new中，`malloc`函数被调用时会创建一个cookie 用来保存申请内存的块数，用来在释放内存的时候可以直接调用`delete[] string`进行array delete，`delete[] string`在析构时一般会反向析构。

上面提到不能直接调用构造函数，但是可以使用定点new来调用构造函数，如下。

```cpp
A* buf = new A[size];
A* tmp = buf;
for (int i = 0; i < size; ++ i) {
	new(tmp++) A(i);
}
delete[] buf;
```

 

```cpp
int* pi = new int[10];
delete pi;
```

上述代码会申请

|      |
| ---- |
|      |
|      |
|      |
|      |
|      |
|      |
|      |
|      |
|      |
|      |
|      |
|      |
|      |
|      |



```
const config = {
    startOnLoad:true,
    theme: 'forest',
    flowchart: {
        useMaxWidth:false,
        htmlLabels:true,
		sequence: {
			diagramMarginX: 50,
			diagramMarginY: 10,
			actorMargin: 50,
			width: 150,
			height: 65,
			boxTextMargin: 10,
			noteMargin: 10,
			messageMargin: 35,
			messageFontSize: 16,
			messageFontFamily: 'Arial',
			actorFontSize: 16,
			actorFontFamily: 'Arial',
		},
		flowchart: {
			useMaxWidth: true,  // 启用最大宽度
			htmlLabels: true,   // 启用 HTML 标签渲染
			curve: 'basis'      // 设置曲线类型（如 'linear', 'basis', 'cardinal' 等）
		}
    }
};
```

